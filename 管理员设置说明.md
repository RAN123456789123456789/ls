# 管理员设置说明

## 如何设置管理员身份

### 方法一：通过代码设置（开发测试）

在微信开发者工具的控制台中执行以下代码：

```javascript
const adminService = require('./miniprogram/utils/adminService.js');
adminService.setAdmin(true);
```

然后刷新小程序，即可获得管理员权限。

### 方法二：通过代码配置（推荐）

编辑 `miniprogram/utils/adminService.ts` 文件，在 `ADMIN_OPENIDS` 数组中添加管理员的 openId：

```typescript
const ADMIN_OPENIDS: string[] = [
    'admin_openid_1',  // 添加管理员的openId
    'admin_openid_2',  // 可以添加多个管理员
];
```

**如何获取 openId：**
1. 在小程序中登录
2. 打开开发者工具的控制台
3. 查看日志中的 openId（会在借阅申请时输出）
4. 或者调用 `wx.getStorageSync('user_openId')` 获取

### 方法三：通过后端API（生产环境）

在生产环境中，应该通过后端API动态获取管理员列表，而不是写死在代码中。

## 管理员功能

管理员可以：
1. 查看所有借阅申请
2. 审核借阅申请（通过/拒绝）
3. 查看申请详情

## 管理员入口

管理员登录后，在首页可以看到"借阅审核"功能入口，点击即可进入审核页面。

非管理员用户点击会提示"权限不足"。










